--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner:
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner:
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: blueprint; Type: TABLE; Schema: public; Owner: seqadmin; Tablespace:
--

CREATE TABLE blueprint (
    id bigint NOT NULL,
    blueprinttext text,
    name character varying(255),
    user_id bigint
);


ALTER TABLE public.blueprint OWNER TO seqadmin;

--
-- Name: blueprint_table; Type: SEQUENCE; Schema: public; Owner: seqadmin
--

CREATE SEQUENCE blueprint_table
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.blueprint_table OWNER TO seqadmin;

--
-- Name: cloudbreakuser; Type: TABLE; Schema: public; Owner: seqadmin; Tablespace:
--

CREATE TABLE cloudbreakuser (
    id bigint NOT NULL,
    email character varying(255) NOT NULL,
    firstname character varying(255) NOT NULL,
    lastname character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    temporaryawscredentials_accesskeyid character varying(255)
);


ALTER TABLE public.cloudbreakuser OWNER TO seqadmin;

--
-- Name: credential; Type: TABLE; Schema: public; Owner: seqadmin; Tablespace:
--

CREATE TABLE credential (
    dtype character varying(31) NOT NULL,
    id bigint NOT NULL,
    cloudplatform integer,
    rolearn character varying(255),
    jks character varying(255),
    subscriptionid character varying(255),
    user_id bigint
);


ALTER TABLE public.credential OWNER TO seqadmin;

--
-- Name: credential_table; Type: SEQUENCE; Schema: public; Owner: seqadmin
--

CREATE SEQUENCE credential_table
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.credential_table OWNER TO seqadmin;

--
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: seqadmin
--

CREATE SEQUENCE hibernate_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO seqadmin;

--
-- Name: sequence_table; Type: SEQUENCE; Schema: public; Owner: seqadmin
--

CREATE SEQUENCE sequence_table
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.sequence_table OWNER TO seqadmin;

--
-- Name: stack; Type: TABLE; Schema: public; Owner: seqadmin; Tablespace:
--

CREATE TABLE stack (
    id bigint NOT NULL,
    clustersize integer,
    name character varying(255),
    credential_id bigint,
    template_id bigint,
    user_id bigint
);


ALTER TABLE public.stack OWNER TO seqadmin;

--
-- Name: stack_table; Type: SEQUENCE; Schema: public; Owner: seqadmin
--

CREATE SEQUENCE stack_table
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.stack_table OWNER TO seqadmin;

--
-- Name: template; Type: TABLE; Schema: public; Owner: seqadmin; Tablespace:
--

CREATE TABLE template (
    dtype character varying(31) NOT NULL,
    id bigint NOT NULL,
    addressprefix character varying(255),
    deploymentslot character varying(255),
    description character varying(255),
    imagename character varying(255),
    location character varying(255),
    name character varying(255),
    password character varying(255),
    sshpublickeyfingerprint character varying(255),
    sshpublickeypath character varying(255),
    subnetaddressprefix character varying(255),
    username character varying(255),
    vmtype character varying(255),
    amiid character varying(255),
    instancetype integer,
    keyname character varying(255),
    region character varying(255),
    sshlocation character varying(255),
    user_id bigint
);


ALTER TABLE public.template OWNER TO seqadmin;

--
-- Name: temporaryawscredentials; Type: TABLE; Schema: public; Owner: seqadmin; Tablespace:
--

CREATE TABLE temporaryawscredentials (
    accesskeyid character varying(255) NOT NULL,
    secretaccesskey character varying(255),
    sessiontoken text,
    validuntil bigint NOT NULL
);


ALTER TABLE public.temporaryawscredentials OWNER TO seqadmin;

--
-- Name: blueprint_pkey; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY blueprint
    ADD CONSTRAINT blueprint_pkey PRIMARY KEY (id);


--
-- Name: cloudbreakuser_pkey; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY cloudbreakuser
    ADD CONSTRAINT cloudbreakuser_pkey PRIMARY KEY (id);


--
-- Name: credential_pkey; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY credential
    ADD CONSTRAINT credential_pkey PRIMARY KEY (id);


--
-- Name: stack_pkey; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY stack
    ADD CONSTRAINT stack_pkey PRIMARY KEY (id);


--
-- Name: template_pkey; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY template
    ADD CONSTRAINT template_pkey PRIMARY KEY (id);


--
-- Name: temporaryawscredentials_pkey; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY temporaryawscredentials
    ADD CONSTRAINT temporaryawscredentials_pkey PRIMARY KEY (accesskeyid);


--
-- Name: uk_l41rkedr7lukrwjgm7ao3x2q0; Type: CONSTRAINT; Schema: public; Owner: seqadmin; Tablespace:
--

ALTER TABLE ONLY cloudbreakuser
    ADD CONSTRAINT uk_l41rkedr7lukrwjgm7ao3x2q0 UNIQUE (email);


--
-- Name: fk_7175vk9tgmhvq04moxgqv5e8o; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY stack
    ADD CONSTRAINT fk_7175vk9tgmhvq04moxgqv5e8o FOREIGN KEY (credential_id) REFERENCES credential(id);


--
-- Name: fk_9u4c7ahw5afggonho5o9qtf7j; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY stack
    ADD CONSTRAINT fk_9u4c7ahw5afggonho5o9qtf7j FOREIGN KEY (user_id) REFERENCES cloudbreakuser(id);


--
-- Name: fk_cnbj7ol5qsib7l5ojq2wywwxk; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY credential
    ADD CONSTRAINT fk_cnbj7ol5qsib7l5ojq2wywwxk FOREIGN KEY (user_id) REFERENCES cloudbreakuser(id);


--
-- Name: fk_d2qqvku09ggf31cwdmboudoeu; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY template
    ADD CONSTRAINT fk_d2qqvku09ggf31cwdmboudoeu FOREIGN KEY (user_id) REFERENCES cloudbreakuser(id);


--
-- Name: fk_ivd95qyxtv9eo2fo026l5s998; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY cloudbreakuser
    ADD CONSTRAINT fk_ivd95qyxtv9eo2fo026l5s998 FOREIGN KEY (temporaryawscredentials_accesskeyid) REFERENCES temporaryawscredentials(accesskeyid);


--
-- Name: fk_n271gunf8dbikvsr0pbre30ci; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY blueprint
    ADD CONSTRAINT fk_n271gunf8dbikvsr0pbre30ci FOREIGN KEY (user_id) REFERENCES cloudbreakuser(id);


--
-- Name: fk_qt10rb41y0q0bcpnt1rls87n9; Type: FK CONSTRAINT; Schema: public; Owner: seqadmin
--

ALTER TABLE ONLY stack
    ADD CONSTRAINT fk_qt10rb41y0q0bcpnt1rls87n9 FOREIGN KEY (template_id) REFERENCES template(id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--
